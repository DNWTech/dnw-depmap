<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>DNW-depmap by manbaum</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>DNW-depmap</h1>
        <h2>Eclipse plug-in, Java, Dependency map</h2>

        <section id="downloads">
          <a href="https://github.com/manbaum/dnw-depmap/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/manbaum/dnw-depmap/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/manbaum/dnw-depmap" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="dnw-depmap" class="anchor" href="#dnw-depmap"><span class="octicon octicon-link"></span></a>DNW-depmap</h1>

<p>DNW-depmap is an Eclipse plug-in project to create Java code dependency map,
which can be used by developers to help them easily find what's the influence of arbitrary code modifications.</p>

<h2>
<a name="development-environment" class="anchor" href="#development-environment"><span class="octicon octicon-link"></span></a>Development Environment</h2>

<ul>
<li>JDK 1.7 (Neo4j graph database's prerequisites)</li>
<li>Eclipse 3.7 (code name Indigo)

<ul>
<li>Import <a href="https://github.com/manbaum/dnw-depmap/blob/develop/codetemplates.xml">codetemplates.xml</a> into <code>Preferences|Java|Code Style|Code Templates</code>.</li>
<li>Import <a href="https://github.com/manbaum/dnw-depmap/blob/develop/codestyle.xml">codestyle.xml</a> into <code>Preferences|Java|Code Style|Formatter</code>.</li>
</ul>
</li>
<li>Format the code before commit. Thanks.</li>
</ul>

<h2>
<a name="getting-start" class="anchor" href="#getting-start"><span class="octicon octicon-link"></span></a>Getting Start</h2>

<ol>
<li>Download Neo4j v2.1.5 from <a href="http://neo4j.com/download/">the Neo4j site</a>.</li>
<li>Follow <a href="http://neo4j.com/docs/2.1.5/deployment.html">these instructions</a> to install and deploy a local Neo4j server.
But do <em>NOT</em> start the server at now!</li>
<li>Import the forked project into Eclipse (the <em>first</em> Eclipse).</li>
<li>Configure <code>DBPATH</code> in <code>com.dnw.depmap.Activator.java</code> to the database store directory
of the local Neo4j server.</li>
<li>Build and run this project as an <code>Eclipse Application</code> (the <em>second</em> Eclipse).</li>
<li>In the second Eclipse, import a Java project into its workspace.</li>
<li>Build the Java project to make sure these's no syntax error.</li>
<li>In the <code>Package Explorer</code> window, select one or more Java elements (may be Java files, packages,
or even the Java project), right click on them and select <code>Analysis Dependency</code> from the pop-up context menu.</li>
<li>Wait for done. (if there are a lot of Java files in the selection, it maybe a long moment.)</li>
<li>Close the second Eclipse. (<em>MUST</em> close it before the next step!)</li>
<li>Startup the local Neo4j server, open a browser and navigate to <a href="http://localhost:7474/browser">http://localhost:7474/browser</a>. </li>
<li>Now you can write Neo4j Cypher queries to manipulate the data generated by this program.
e.g. <code>match p=((:Class)-[:Declares]-&gt;(:Method)-[:Invokes]-&gt;(:Method)&lt;-[:Declares]-(:Class {name:"java.lang.Object"})) return p</code>.</li>
<li>Note: Shutdown the local Neo4j server before re-generating data.</li>
</ol>

<h2>
<a name="data-model" class="anchor" href="#data-model"><span class="octicon octicon-link"></span></a>Data Model</h2>

<ul>
<li>Node labeled <code>Type</code> will also be labeled either <code>Class</code> or <code>Interface</code>.</li>
<li>Node labeled <code>Class</code> denotes a Java class.

<ul>
<li>Property <code>name</code>: the qualified name of the class, with all type parameters replaced with <code>'?'</code>. e.g. <code>'java.util.ArrayList&lt;?&gt;'</code>.</li>
<li>Property <code>caption</code>: the simple name (no package name) of the class, with the bound type parameters. e.g. <code>'ArrayList&lt;Object&gt;'</code>.</li>
<li>Property <code>extends</code>: the qualified name of its superclass. e.g. <code>'java.lang.Object'</code>. </li>
<li>Property <code>implements</code>: an array contains all names of interfaces which implements. e.g. <code>['java.util.List&lt;?&gt;']</code>. </li>
</ul>
</li>
<li>Node labeled <code>Interface</code> denotes a Java interface. 

<ul>
<li>Property <code>name</code>: the qualified name of the interface, with all type parameters replaced with <code>'?'</code>. e.g. <code>'java.util.List&lt;?&gt;'</code>.</li>
<li>Property <code>caption</code>: the simple name (no package name) of the interface, with the bound type parameters. e.g. <code>'List&lt;Object&gt;'</code>. </li>
<li>Property <code>extends</code>: an array contains all names of interfaces which extends. e.g. <code>['java.util.Collection&lt;?&gt;']</code>.</li>
</ul>
</li>
<li>Relation type <code>Extends</code> denotes the class inheritance happened between two <code>Class</code> nodes, or the interface inheritance happened between two <code>Interface</code> nodes.</li>
<li>Relation type <code>Implements</code> denotes the interface implementation between a <code>Class</code> node and a <code>Interface</code> node.</li>
<li>Node labeled <code>Method</code> denotes a Java method.

<ul>
<li>Property <code>name</code>: consists of two parts: 1) the qualified name of its declaring class, 2) the method declaring, made by the method name and all the arguments' type names in parentheses.

<ul>
<li>For a static method, uses <code>'/'</code> as the delimiter. e.g. <code>'java.util.Arrays/asList(java.lang.Object[])'</code>.</li>
<li>For a non-static method, uses <code>'#'</code> as the delimiter. e.g. <code>'java.lang.Object#wait()'</code>.</li>
</ul>
</li>
<li>Property <code>caption</code>: concatenates the method name and the number of declaring arguments in parentheses. e.g. <code>'asList(1)'</code>.</li>
</ul>
</li>
<li>Relation type <code>Declares</code> denotes the method declaration, the left/from side should be a <code>Type</code> node, and the right/to side should be a <code>Method</code> node.</li>
<li>Relation type <code>Invokes</code> denotes the method invocation, it happens between two <code>Method</code> nodes.

<ul>
<li>Property <code>args</code>: an array contains all arguments passed in when the invocation happens.</li>
</ul>
</li>
</ul>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>Copyright (c) 2014 DNW Technologies and others.<br>
All rights reserved. This program and the accompanying materials<br>
are made available under the terms of the Eclipse Public License v1.0<br>
which accompanies this distribution, and is available at<br>
<a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a></p>
      </section>
    </div>

    
  </body>
</html>